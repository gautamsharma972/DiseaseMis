{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../_services/api.service\";\nimport * as i2 from \"@ngneat/hot-toast\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@sweetalert2/ngx-sweetalert2\";\nimport * as i6 from \"./components/edit-incharges.component\";\nimport * as i7 from \"ng2-search-filter\";\n\nfunction InChargeComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"label\", 16);\n    i0.ɵɵelementStart(2, \"input\", 17);\n    i0.ɵɵlistener(\"change\", function InChargeComponent_div_10_Template_input_change_2_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.viewAll();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 18);\n    i0.ɵɵtext(4, \"View all\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\", 19);\n    i0.ɵɵelementStart(6, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function InChargeComponent_div_10_Template_input_change_6_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.toggleArchiveList();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 21);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.content.archivedTitle);\n  }\n}\n\nfunction InChargeComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.content.errorMessage, \" \");\n  }\n}\n\nfunction InChargeComponent_div_18_table_1_tr_16_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r8.institute.name, \" \");\n  }\n}\n\nfunction InChargeComponent_div_18_table_1_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 30);\n    i0.ɵɵelementStart(1, \"td\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtemplate(7, InChargeComponent_div_18_table_1_tr_16_p_7_Template, 2, 1, \"p\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 28);\n    i0.ɵɵelementStart(15, \"label\", 32);\n    i0.ɵɵlistener(\"click\", function InChargeComponent_div_18_table_1_tr_16_Template_label_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r8 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return ctx_r13.edit(item_r8);\n    });\n    i0.ɵɵelement(16, \"i\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"swal\", 34, 35);\n    i0.ɵɵlistener(\"confirm\", function InChargeComponent_div_18_table_1_tr_16_Template_swal_confirm_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r8 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.delete(item_r8.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"a\", 36);\n    i0.ɵɵelement(20, \"i\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    const i_r9 = ctx.index;\n\n    const _r11 = i0.ɵɵreference(18);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r9 + 1, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r8.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r8.institute != null);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r8.phone, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r8.designation, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate2(\"title\", \"\", item_r8.status == 1 ? \"Archive\" : \"Unarchive\", \" \", item_r8.name, \"?\");\n    i0.ɵɵproperty(\"showCancelButton\", true)(\"focusCancel\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"swal\", _r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", item_r8.status == 1 ? \"fa-archive\" : \"fa-redo\");\n  }\n}\n\nfunction InChargeComponent_div_18_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 26);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"td\", 27);\n    i0.ɵɵtext(4, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \" Name \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \" Institute \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \" Mobile \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \" Designation \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 28);\n    i0.ɵɵtext(14, \"Options\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"tbody\");\n    i0.ɵɵtemplate(16, InChargeComponent_div_18_table_1_tr_16_Template, 21, 11, \"tr\", 29);\n    i0.ɵɵpipe(17, \"filter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(17, 1, ctx_r6.content.data, ctx_r6.searchTerm));\n  }\n}\n\nfunction InChargeComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, InChargeComponent_div_18_table_1_Template, 18, 4, \"table\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.content.data.length > 0);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: false\n  };\n};\n\nexport let InChargeComponent = /*#__PURE__*/(() => {\n  class InChargeComponent {\n    constructor(apiService, toast) {\n      this.apiService = apiService;\n      this.toast = toast;\n      this.content = {\n        title: '',\n        name: \"Incharge\",\n        data: [],\n        fields: [],\n        errorMessage: \"\",\n        archivedRecords: [],\n        allRecords: [],\n        archivedTitle: 'Archived',\n        apiLink: '/master/incharges',\n        caller: '',\n        requiredMapping: {\n          link: '/master/institutes',\n          title: 'Institute',\n          name: 'InstituteId',\n          fieldType: 'dropdown',\n          mappingData: []\n        },\n        Incharge: {\n          institute: {}\n        }\n      };\n    }\n\n    ngOnInit() {\n      this.get();\n    }\n\n    get() {\n      this.apiService.getData('/master/incharges', null).subscribe(res => {\n        if (!res) {\n          this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\n            position: 'top-right',\n            autoClose: true\n          });\n        } else {\n          if (res.data.length <= 0) {\n            this.content.errorMessage = \"No In-charges found. Click 'Add New' to add.\";\n          }\n\n          this.content.data = res.data;\n          this.content.archivedRecords = res.data.filter(a => a.status == 1);\n          this.content.allRecords = res.data;\n        }\n      }, error => {\n        this.content.errorMessage = \"Could not load data at this time. Try again later.\";\n      });\n    }\n\n    create() {\n      this.content.title = `Add ${this.content.name}`;\n      this.content.caller = 'POST';\n      this.apiService.getData(`/master/institutes`, null).subscribe(res => {\n        if (res) this.content.mappingData = res.data;\n      });\n    }\n\n    edit(item) {\n      this.content.title = `Edit ${this.content.name}`;\n      this.content.caller = 'PUT';\n      this.apiService.getData(`/master/institutes`, null).subscribe(res => {\n        if (res) this.content.mappingData = res.data;\n      });\n      this.content.Incharge = item;\n    }\n\n    delete(id) {\n      this.apiService.deleteData(`${this.content.apiLink}/${id}`, id).subscribe(res => {\n        this.get();\n        return;\n      }, error => {\n        this.toast.error(\"Error archiving, try again after sometime.\", {\n          position: 'top-right',\n          autoClose: true\n        });\n        return;\n      });\n    }\n\n    toggleArchiveList() {\n      this.content.data = this.content.archivedRecords;\n    }\n\n    viewAll() {\n      this.content.data = this.content.allRecords;\n    }\n\n  }\n\n  InChargeComponent.ɵfac = function InChargeComponent_Factory(t) {\n    return new (t || InChargeComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.HotToastService));\n  };\n\n  InChargeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InChargeComponent,\n    selectors: [[\"app-in-charge\"]],\n    decls: 20,\n    vars: 9,\n    consts: [[1, \"flex\", \"flex-wrap\"], [1, \"container\", \"mt-5\", \"grid\", \"grid-cols-3\"], [1, \"card-title\"], [1, \"flex-column\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"fa\", \"fa-edit\"], [\"class\", \"justify-self-end mt-3\", 4, \"ngIf\"], [1, \"flex\", \"justify-self-end\"], [1, \"form-control\", \"justify-self-end\", \"w-full\"], [\"type\", \"search\", \"placeholder\", \"Search\", 1, \"input\", \"input-bordered\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", \"ml-5\", \"modal-button\", 3, \"for\", \"click\"], [1, \"fa-solid\", \"fa-plus\", \"mr-2.5\"], [\"class\", \"mt-5 alert shadow alert-error\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto w-full mt-5 border rounded-md\", 4, \"ngIf\"], [3, \"content\"], [1, \"justify-self-end\", \"mt-3\"], [1, \"w-full\"], [\"type\", \"radio\", \"value\", \"1\", \"name\", \"archive_\", 1, \"radio\", \"checked:bg-red-500\", 3, \"change\"], [1, \"label-text\", \"ml-2\", \"mr-5\", \"text-gray-700\", \"font-semibold\"], [1, \"ml-2\", \"mr-2\", \"w-full\"], [\"type\", \"radio\", \"value\", \"0\", \"name\", \"archive_\", 1, \"radio\", \"checked:bg-red-500\", 3, \"change\"], [1, \"label-text\", \"ml-2\", \"text-gray-700\", \"font-semibold\"], [1, \"mt-5\", \"alert\", \"shadow\", \"alert-error\"], [1, \"fa\", \"fa-exclamation-triangle\", \"text-yellow\"], [1, \"overflow-x-auto\", \"w-full\", \"mt-5\", \"border\", \"rounded-md\"], [\"class\", \"table border w-full\", 4, \"ngIf\"], [1, \"table\", \"border\", \"w-full\"], [1, \"border-r\"], [1, \"text-right\"], [\"class\", \"hover\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover\"], [4, \"ngIf\"], [\"href\", \"javascript:void(0)\", \"for\", \"Incharge-modal\", 1, \"mr-3\", \"modal-button\", 3, \"click\"], [1, \"fa\", \"fa-pen-to-square\", \"fa-1x\"], [\"text\", \"You can re-archive from the list\", \"icon\", \"question\", 3, \"title\", \"showCancelButton\", \"focusCancel\", \"confirm\"], [\"deleteSwal\", \"\"], [1, \"mr-3\", 3, \"swal\"], [1, \"fa\", \"fa-1x\", \"text-red-500\", 3, \"ngClass\"]],\n    template: function InChargeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵelementStart(3, \"span\", 3);\n        i0.ɵɵtext(4);\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"span\", 4);\n        i0.ɵɵtext(7, \"Click '\");\n        i0.ɵɵelement(8, \"i\", 5);\n        i0.ɵɵtext(9, \"' icon to edit list item.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, InChargeComponent_div_10_Template, 9, 1, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelementStart(13, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function InChargeComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"label\", 10);\n        i0.ɵɵlistener(\"click\", function InChargeComponent_Template_label_click_14_listener() {\n          return ctx.create();\n        });\n        i0.ɵɵelement(15, \"i\", 11);\n        i0.ɵɵtext(16, \" Add new \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, InChargeComponent_div_17_Template, 4, 1, \"div\", 12);\n        i0.ɵɵtemplate(18, InChargeComponent_div_18_Template, 2, 1, \"div\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"edit-incharges-view\", 14);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" Manage \", ctx.content.name, \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.data.length > 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm)(\"ngModelOptions\", i0.ɵɵpureFunction0(8, _c0));\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate1(\"for\", \"\", ctx.content.name, \"-modal\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.errorMessage != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.data.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"content\", ctx.content);\n      }\n    },\n    directives: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i3.NgForOf, i5.SwalComponent, i5.SwalDirective, i3.NgClass, i6.EditInchargesComponent],\n    pipes: [i7.Ng2SearchPipe],\n    styles: [\"\"]\n  });\n  return InChargeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}