{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../_services/api.service\";\nimport * as i2 from \"@ngneat/hot-toast\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@sweetalert2/ngx-sweetalert2\";\nimport * as i6 from \"./components/edit-sample.component\";\nimport * as i7 from \"ng2-search-filter\";\n\nfunction SamplesComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 15);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.content.errorMessage, \" \");\n  }\n}\n\nfunction SamplesComponent_div_17_div_1_div_18_tr_9_span_4_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \",\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SamplesComponent_div_17_div_1_div_18_tr_9_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, SamplesComponent_div_17_div_1_div_18_tr_9_span_4_span_2_Template, 2, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const subTest_r11 = ctx.$implicit;\n    const last_r12 = ctx.last;\n    const testType_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", subTest_r11.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !last_r12 && testType_r8.subTests.length > 1);\n  }\n}\n\nfunction SamplesComponent_div_17_div_1_div_18_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtemplate(4, SamplesComponent_div_17_div_1_div_18_tr_9_span_4_Template, 3, 2, \"span\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const testType_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", testType_r8.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", testType_r8.subTests);\n  }\n}\n\nfunction SamplesComponent_div_17_div_1_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelementStart(1, \"table\", 32);\n    i0.ɵɵelementStart(2, \"thead\", 33);\n    i0.ɵɵelementStart(3, \"tr\");\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Test Type 1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Test Type 2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"tbody\");\n    i0.ɵɵtemplate(9, SamplesComponent_div_17_div_1_div_18_tr_9_Template, 5, 2, \"tr\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", item_r3.testTypes);\n  }\n}\n\nfunction SamplesComponent_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵelementStart(2, \"div\", 20);\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵelementStart(4, \"span\", 21);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementStart(7, \"span\", 21);\n    i0.ɵɵtext(8, \"\\u00A0 | \\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 22);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 23);\n    i0.ɵɵelementStart(12, \"label\", 24);\n    i0.ɵɵlistener(\"click\", function SamplesComponent_div_17_div_1_Template_label_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.edit(item_r3);\n    });\n    i0.ɵɵelement(13, \"i\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"swal\", 26, 27);\n    i0.ɵɵlistener(\"confirm\", function SamplesComponent_div_17_div_1_Template_swal_confirm_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.delete(item_r3.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"a\", 28);\n    i0.ɵɵelement(17, \"i\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, SamplesComponent_div_17_div_1_div_18_Template, 10, 1, \"div\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n\n    const _r5 = i0.ɵɵreference(15);\n\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", i_r4 + 1, \". \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r3.name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Test Types (\", item_r3.testTypes.length, \")\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"title\", \"Delete \", item_r3.name, \"?\");\n    i0.ɵɵproperty(\"showCancelButton\", true)(\"focusCancel\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"swal\", _r5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r3.testTypes.length > 0);\n  }\n}\n\nfunction SamplesComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, SamplesComponent_div_17_div_1_Template, 19, 8, \"div\", 17);\n    i0.ɵɵpipe(2, \"filter\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(2, 1, ctx_r1.content.data, ctx_r1.searchTerm));\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: false\n  };\n};\n\nexport let SamplesComponent = /*#__PURE__*/(() => {\n  class SamplesComponent {\n    constructor(apiService, toast) {\n      this.apiService = apiService;\n      this.toast = toast;\n      this.content = {\n        title: '',\n        name: \"Samples\",\n        data: [],\n        fields: [],\n        errorMessage: \"\",\n        apiLink: '/samples',\n        caller: '',\n        Samples: {\n          testTypes: []\n        }\n      };\n    }\n\n    ngOnInit() {\n      this.get();\n    }\n\n    get() {\n      this.apiService.getData('/samples', null).subscribe(res => {\n        if (!res) {\n          this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\n            position: 'top-right',\n            autoClose: true\n          });\n        } else {\n          if (res.length <= 0) {\n            this.content.errorMessage = \"No Samples found. Click 'Add New' to add.\";\n          }\n\n          this.content.data = res;\n        }\n      }, error => {\n        this.content.errorMessage = \"Could not load data at this time. Try again later.\";\n      });\n    }\n\n    create() {\n      this.content.title = `Add ${this.content.name}`;\n      this.content.caller = 'POST';\n      this.content.Samples = {\n        testTypes: []\n      };\n    }\n\n    edit(item) {\n      this.content.title = `Edit ${this.content.name}`;\n      this.content.caller = 'PUT';\n      this.content.Samples = item;\n    }\n\n    delete(id) {\n      this.apiService.deleteData(`${this.content.apiLink}/${id}`, id).subscribe(res => {\n        if (res) {\n          this.toast.success(\"Item Deleted\", {\n            position: 'top-right',\n            autoClose: true\n          });\n        }\n      }, error => {\n        this.toast.error(\"Error deleting, try again after sometime.\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      });\n    }\n\n  }\n\n  SamplesComponent.ɵfac = function SamplesComponent_Factory(t) {\n    return new (t || SamplesComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.HotToastService));\n  };\n\n  SamplesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SamplesComponent,\n    selectors: [[\"app-samples\"]],\n    decls: 19,\n    vars: 8,\n    consts: [[1, \"flex\", \"flex-wrap\"], [1, \"container\", \"mt-5\", \"grid\", \"grid-cols-2\"], [1, \"card-title\"], [1, \"flex-column\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"fa\", \"fa-edit\"], [1, \"flex\", \"justify-self-end\"], [1, \"form-control\", \"justify-self-end\", \"w-full\"], [\"type\", \"search\", \"placeholder\", \"Search\", 1, \"input\", \"input-bordered\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", \"ml-5\", \"modal-button\", 3, \"for\", \"click\"], [1, \"fa-solid\", \"fa-plus\", \"mr-2.5\"], [\"class\", \"mt-5 alert shadow alert-error\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto w-full mt-5\", 4, \"ngIf\"], [3, \"content\"], [1, \"mt-5\", \"alert\", \"shadow\", \"alert-error\"], [1, \"fa\", \"fa-exclamation-triangle\", \"text-yellow\"], [1, \"overflow-x-auto\", \"w-full\", \"mt-5\"], [\"tabindex\", \"0\", \"class\", \"collapse border border-base-300 mb-3 bg-base-100 rounded-box collapse-plus\", 4, \"ngFor\", \"ngForOf\"], [\"tabindex\", \"0\", 1, \"collapse\", \"border\", \"border-base-300\", \"mb-3\", \"bg-base-100\", \"rounded-box\", \"collapse-plus\"], [1, \"collapse-title\", \"font-medium\"], [1, \"grid-cols-2\", \"grid\"], [1, \"text-gray-500\"], [1, \"text-primary\"], [1, \"place-self-end\"], [\"href\", \"javascript:void(0)\", \"for\", \"Samples-modal\", 1, \"mr-3\", \"modal-button\", 3, \"click\"], [1, \"fa\", \"fa-pen-to-square\", \"fa-1x\"], [\"text\", \"This will delete all its Test-Types and their related sub Test-Types.\", \"icon\", \"question\", 3, \"title\", \"showCancelButton\", \"focusCancel\", \"confirm\"], [\"deleteSwal\", \"\"], [1, \"mr-3\", 3, \"swal\"], [1, \"fa\", \"fa-trash-can\", \"fa-1x\", \"text-red-500\"], [\"class\", \"collapse-content\", 4, \"ngIf\"], [1, \"collapse-content\"], [1, \"table\", \"w-full\"], [1, \"rounded-0\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"]],\n    template: function SamplesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵelementStart(3, \"span\", 3);\n        i0.ɵɵtext(4);\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"span\", 4);\n        i0.ɵɵtext(7, \"Click '\");\n        i0.ɵɵelement(8, \"i\", 5);\n        i0.ɵɵtext(9, \"' icon to edit list item.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function SamplesComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"label\", 9);\n        i0.ɵɵlistener(\"click\", function SamplesComponent_Template_label_click_13_listener() {\n          return ctx.create();\n        });\n        i0.ɵɵelement(14, \"i\", 10);\n        i0.ɵɵtext(15, \" Add new \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, SamplesComponent_div_16_Template, 4, 1, \"div\", 11);\n        i0.ɵɵtemplate(17, SamplesComponent_div_17_Template, 3, 4, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"edit-sample-view\", 13);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" Manage \", ctx.content.name, \" \");\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0));\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate1(\"for\", \"\", ctx.content.name, \"-modal\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.errorMessage != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.data.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"content\", ctx.content);\n      }\n    },\n    directives: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgIf, i4.NgForOf, i5.SwalComponent, i5.SwalDirective, i6.EditSampleComponent],\n    pipes: [i7.Ng2SearchPipe],\n    styles: [\"\"]\n  });\n  return SamplesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}