{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../_services/api.service\";\nimport * as i2 from \"@ngneat/hot-toast\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@sweetalert2/ngx-sweetalert2\";\nimport * as i6 from \"./components/edit-laboratories.component\";\nimport * as i7 from \"ng2-search-filter\";\n\nfunction LaboratoryComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 15);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.content.errorMessage, \" \");\n  }\n}\n\nfunction LaboratoryComponent_div_17_table_1_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 22);\n    i0.ɵɵelementStart(1, \"td\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 20);\n    i0.ɵɵelementStart(8, \"label\", 23);\n    i0.ɵɵlistener(\"click\", function LaboratoryComponent_div_17_table_1_tr_14_Template_label_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return ctx_r7.edit(item_r4);\n    });\n    i0.ɵɵelement(9, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"swal\", 25, 26);\n    i0.ɵɵlistener(\"confirm\", function LaboratoryComponent_div_17_table_1_tr_14_Template_swal_confirm_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.delete(item_r4.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 27);\n    i0.ɵɵelement(13, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n\n    const _r6 = i0.ɵɵreference(11);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r5 + 1, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.location, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.districts != null ? item_r4.districts.name : \"N/A\", \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"title\", \"Delete \", item_r4.name, \"?\");\n    i0.ɵɵproperty(\"showCancelButton\", true)(\"focusCancel\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"swal\", _r6);\n  }\n}\n\nfunction LaboratoryComponent_div_17_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 18);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"td\", 19);\n    i0.ɵɵtext(4, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \" Name \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10, \" District \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 20);\n    i0.ɵɵtext(12, \"Options\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"tbody\");\n    i0.ɵɵtemplate(14, LaboratoryComponent_div_17_table_1_tr_14_Template, 14, 7, \"tr\", 21);\n    i0.ɵɵpipe(15, \"filter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(15, 1, ctx_r2.content.data, ctx_r2.searchTerm));\n  }\n}\n\nfunction LaboratoryComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, LaboratoryComponent_div_17_table_1_Template, 16, 4, \"table\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.content.data.length > 0);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: false\n  };\n};\n\nexport let LaboratoryComponent = /*#__PURE__*/(() => {\n  class LaboratoryComponent {\n    constructor(apiService, toast) {\n      this.apiService = apiService;\n      this.toast = toast;\n      this.content = {\n        name: \"Laboratories\",\n        data: [],\n        fields: [],\n        errorMessage: \"\",\n        apiLink: '/master/laboratories',\n        caller: '',\n        requiredMapping: {\n          link: '/master/districts',\n          title: 'District',\n          name: 'DistrictId',\n          fieldType: 'dropdown',\n          mappingData: []\n        },\n        Laboratories: {\n          districts: {}\n        }\n      };\n    }\n\n    ngOnInit() {\n      this.get();\n    }\n\n    get() {\n      this.apiService.getData('/master/laboratories', null).subscribe(res => {\n        if (!res) {\n          this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\n            position: 'top-right',\n            autoClose: true\n          });\n        } else {\n          if (res.data.length <= 0) {\n            this.content.errorMessage = \"No Laboratories found. Click 'Add New' to add.\";\n          }\n\n          this.content.data = res.data;\n          this.content.fields = res.fields;\n        }\n      }, error => {\n        this.content.errorMessage = \"Could not load data at this time. Try again later.\";\n      });\n    }\n\n    create() {\n      this.content.Laboratories = {\n        districts: {}\n      };\n      this.content.title = `Add ${this.content.name}`;\n      this.content.caller = 'POST';\n      this.apiService.getData(`/master/districts`, null).subscribe(res => {\n        if (res) this.content.mappingData = res.data;\n      });\n    }\n\n    edit(item) {\n      this.content.title = `Edit ${this.content.name}`;\n      this.content.caller = 'PUT';\n      this.apiService.getData(`/master/districts`, null).subscribe(res => {\n        if (res) this.content.mappingData = res.data;\n      });\n      this.content.Laboratories = item;\n    }\n\n    delete(id) {\n      this.apiService.deleteData(`${this.content.apiLink}/${id}`, id).subscribe(res => {\n        return;\n      }, error => {\n        this.toast.error(\"Error deleting, try again after sometime.\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      });\n    }\n\n  }\n\n  LaboratoryComponent.ɵfac = function LaboratoryComponent_Factory(t) {\n    return new (t || LaboratoryComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.HotToastService));\n  };\n\n  LaboratoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LaboratoryComponent,\n    selectors: [[\"app-laboratory\"]],\n    decls: 19,\n    vars: 8,\n    consts: [[1, \"flex\", \"flex-wrap\"], [1, \"container\", \"mt-5\", \"grid\", \"grid-cols-2\"], [1, \"card-title\"], [1, \"flex-column\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"fa\", \"fa-edit\"], [1, \"flex\", \"justify-self-end\"], [1, \"form-control\", \"justify-self-end\", \"w-full\"], [\"type\", \"search\", \"placeholder\", \"Search\", 1, \"input\", \"input-bordered\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"btn\", \"btn-primary\", \"ml-5\", \"modal-button\", 3, \"for\", \"click\"], [1, \"fa-solid\", \"fa-plus\", \"mr-2.5\"], [\"class\", \"mt-5 alert shadow alert-error\", 4, \"ngIf\"], [\"class\", \"overflow-x-auto w-full mt-5 border rounded-md\", 4, \"ngIf\"], [3, \"content\"], [1, \"mt-5\", \"alert\", \"shadow\", \"alert-error\"], [1, \"fa\", \"fa-exclamation-triangle\", \"text-yellow\"], [1, \"overflow-x-auto\", \"w-full\", \"mt-5\", \"border\", \"rounded-md\"], [\"class\", \"table border w-full\", 4, \"ngIf\"], [1, \"table\", \"border\", \"w-full\"], [1, \"border-r\"], [1, \"text-right\"], [\"class\", \"hover\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover\"], [\"href\", \"javascript:void(0)\", \"for\", \"Laboratories-modal\", 1, \"mr-3\", \"modal-button\", 3, \"click\"], [1, \"fa\", \"fa-pen-to-square\", \"fa-1x\"], [\"text\", \"This cannot be undone\", \"icon\", \"question\", 3, \"title\", \"showCancelButton\", \"focusCancel\", \"confirm\"], [\"deleteSwal\", \"\"], [1, \"mr-3\", 3, \"swal\"], [1, \"fa\", \"fa-trash-can\", \"fa-1x\", \"text-red-500\"]],\n    template: function LaboratoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵelementStart(3, \"span\", 3);\n        i0.ɵɵtext(4);\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"span\", 4);\n        i0.ɵɵtext(7, \"Click '\");\n        i0.ɵɵelement(8, \"i\", 5);\n        i0.ɵɵtext(9, \"' icon to edit list item.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function LaboratoryComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"label\", 9);\n        i0.ɵɵlistener(\"click\", function LaboratoryComponent_Template_label_click_13_listener() {\n          return ctx.create();\n        });\n        i0.ɵɵelement(14, \"i\", 10);\n        i0.ɵɵtext(15, \" Add new \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, LaboratoryComponent_div_16_Template, 4, 1, \"div\", 11);\n        i0.ɵɵtemplate(17, LaboratoryComponent_div_17_Template, 2, 1, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"edit-laboratories-view\", 13);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" Manage \", ctx.content.name, \" \");\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0));\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate1(\"for\", \"\", ctx.content.name, \"-modal\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.errorMessage != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.data.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"content\", ctx.content);\n      }\n    },\n    directives: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgIf, i4.NgForOf, i5.SwalComponent, i5.SwalDirective, i6.EditLaboratoriesComponent],\n    pipes: [i7.Ng2SearchPipe],\n    styles: [\"\"]\n  });\n  return LaboratoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}