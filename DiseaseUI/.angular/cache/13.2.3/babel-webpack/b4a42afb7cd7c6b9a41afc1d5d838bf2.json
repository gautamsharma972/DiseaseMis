{"ast":null,"code":"import { CategoryTableComponent } from './components/category-table/category-table.component';\nimport { AnimalTableComponent } from './components/animal-table/animal-table.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../_services/api.service\";\nimport * as i2 from \"./components/category-table/category-table.component\";\nimport * as i3 from \"./components/animal-table/animal-table.component\";\nimport * as i4 from \"../../_services/shared.service\";\nimport * as i5 from \"@ngneat/hot-toast\";\n\nfunction AnimalsComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 25);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.content.errorMessage_categories, \" \");\n  }\n}\n\nfunction AnimalsComponent_app_category_table_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-category-table\", 26);\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", ctx_r1.content)(\"searchTerm\", ctx_r1.searchTerm);\n  }\n}\n\nfunction AnimalsComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 25);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.content.errorMessage_animals, \" \");\n  }\n}\n\nfunction AnimalsComponent_app_animal_table_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-animal-table\", 26);\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", ctx_r3.content)(\"searchTerm\", ctx_r3.searchTerm);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: false\n  };\n};\n\nexport let AnimalsComponent = /*#__PURE__*/(() => {\n  class AnimalsComponent {\n    constructor(apiService, categoryTable, animalTable, sharedService, toast) {\n      this.apiService = apiService;\n      this.categoryTable = categoryTable;\n      this.animalTable = animalTable;\n      this.sharedService = sharedService;\n      this.toast = toast;\n      this.content = {\n        title: '',\n        name: \"Animals\",\n        data: [],\n        fields: [],\n        errorMessage_categories: \"\",\n        errorMessage_animals: \"\",\n        apiLink: '/master/animals',\n        caller: '',\n        Animals: {},\n        animals: [],\n        categories: []\n      };\n      this.subscription = this.sharedService.getLatestData().subscribe(data => {\n        this.getCategories(true);\n        this.getAnimals(true);\n      });\n    }\n\n    ngOnInit() {\n      this.getCategories(false);\n    }\n\n    getCategories(callService) {\n      this.apiService.getData('/master/animals/category', null).subscribe(res => {\n        if (!res) {\n          this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\n            position: 'top-right',\n            autoClose: true\n          });\n        } else {\n          if (res.length <= 0) {\n            this.content.errorMessage_categories = \"No Categories found. Click 'Add New' to add.\";\n          }\n\n          this.content.categories = res;\n          this.categoryTable.setData(this.content); // = res;\n\n          if (callService) {\n            this.sharedService.sendLatestData(this.content.categories);\n          }\n        }\n      }, error => {\n        this.content.errorMessage_categories = \"Could not load data at this time. Try again later.\";\n      });\n    }\n\n    getAnimals(callService) {\n      this.apiService.getData('/master/animals', null).subscribe(res => {\n        if (!res) {\n          this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\n            position: 'top-right',\n            autoClose: true\n          });\n        } else {\n          if (res.length <= 0) {\n            this.content.errorMessage_animals = \"No animals found. Click 'Add New' to add.\";\n          }\n\n          this.content.animals = res;\n          this.animalTable.setData(this.content); // = res;\n\n          if (callService) {\n            this.sharedService.sendLatestData(this.content.categories);\n          }\n        }\n      }, error => {\n        this.content.errorMessage_animals = \"Could not load data at this time. Try again later.\";\n      });\n    }\n\n    create(title) {\n      this.content.title = `Add ${title}`;\n      this.content.apiLink = title == 'animals' ? '/master/animals' : '/master/animals/category';\n      this.content.caller = 'POST';\n      this.content.Animals = {\n        category: {}\n      };\n      this.content.typeOf = title;\n    }\n\n  }\n\n  AnimalsComponent.ɵfac = function AnimalsComponent_Factory(t) {\n    return new (t || AnimalsComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.CategoryTableComponent), i0.ɵɵdirectiveInject(i3.AnimalTableComponent), i0.ɵɵdirectiveInject(i4.SharedService), i0.ɵɵdirectiveInject(i5.HotToastService));\n  };\n\n  AnimalsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AnimalsComponent,\n    selectors: [[\"app-animals\"]],\n    features: [i0.ɵɵProvidersFeature([CategoryTableComponent, AnimalTableComponent])],\n    decls: 38,\n    vars: 12,\n    consts: [[1, \"flex\", \"flex-wrap\"], [1, \"container\", \"mt-5\", \"grid\", \"grid-cols-2\"], [1, \"card-title\"], [1, \"flex-column\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"fa\", \"fa-edit\"], [1, \"flex\", \"justify-self-end\"], [1, \"form-control\", \"justify-self-end\", \"w-full\"], [\"type\", \"search\", \"placeholder\", \"Search\", 1, \"input\", \"input-bordered\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"dropdown\", \"dropdown-end\", \"ml-5\", \"w-full\"], [\"tabindex\", \"0\", 1, \"btn\", \"btn-primary\"], [1, \"fa-solid\", \"fa-plus\", \"mr-2.5\"], [\"tabindex\", \"0\", 1, \"p-2\", \"shadow\", \"menu\", \"dropdown-content\", \"bg-base-200\", \"border\", \"rounded-box\", \"w-52\"], [\"for\", \"Animals-modal\", 1, \"modal-button\", 3, \"click\"], [\"x-data\", \"{ openTab: 'category' }\", 1, \"grid\", \"mt-5\", \"w-full\"], [1, \"tabs\", \"z-10\", \"-mb-px\"], [\"x-on:click\", \"openTab = 'category'\", \"x-bind:class\", \"openTab === 'category'? 'bg-base-200 tab-active' : ''\", 1, \"tab\", \"tab-bordered\", \"btn-md\", \"font-semibold\"], [\"x-on:click\", \"openTab = 'animals'\", \"x-bind:class\", \"openTab === 'animals'? 'bg-base-200 tab-active' : ''\", 1, \"tab\", \"btn-md\", \"font-semibold\", \"tab-bordered\", 3, \"ngClass\", \"disabled\", \"click\"], [1, \"tab\", \"tab-bordered\", \"flex-1\", \"cursor-default\"], [\"x-show\", \"openTab == 'category'\", 1, \"overflow-x-auto\", \"w-full\", \"mt-5\", \"border\", \"rounded-md\"], [\"class\", \"mt-5 alert shadow alert-error\", 4, \"ngIf\"], [3, \"content\", \"searchTerm\", 4, \"ngIf\"], [\"x-show\", \"openTab == 'animals'\", 1, \"overflow-x-auto\", \"w-full\", \"mt-5\", \"border\", \"rounded-md\"], [3, \"content\"], [1, \"mt-5\", \"alert\", \"shadow\", \"alert-error\"], [1, \"fa\", \"fa-exclamation-triangle\", \"text-yellow\"], [3, \"content\", \"searchTerm\"]],\n    template: function AnimalsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵelementStart(3, \"span\", 3);\n        i0.ɵɵtext(4);\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"span\", 4);\n        i0.ɵɵtext(7, \"Click '\");\n        i0.ɵɵelement(8, \"i\", 5);\n        i0.ɵɵtext(9, \"' icon to edit list item.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function AnimalsComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelementStart(14, \"label\", 10);\n        i0.ɵɵelement(15, \"i\", 11);\n        i0.ɵɵtext(16, \" Add new \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"ul\", 12);\n        i0.ɵɵelementStart(18, \"li\");\n        i0.ɵɵelementStart(19, \"label\", 13);\n        i0.ɵɵlistener(\"click\", function AnimalsComponent_Template_label_click_19_listener() {\n          return ctx.create(\"categories\");\n        });\n        i0.ɵɵtext(20, \" Add new Category \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"li\");\n        i0.ɵɵelementStart(22, \"label\", 13);\n        i0.ɵɵlistener(\"click\", function AnimalsComponent_Template_label_click_22_listener() {\n          return ctx.create(\"animals\");\n        });\n        i0.ɵɵtext(23, \" Add new Animal \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 14);\n        i0.ɵɵelementStart(25, \"div\", 15);\n        i0.ɵɵelementStart(26, \"button\", 16);\n        i0.ɵɵtext(27, \" Category \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function AnimalsComponent_Template_button_click_28_listener() {\n          return ctx.getAnimals(false);\n        });\n        i0.ɵɵtext(29, \" Animals \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"div\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 19);\n        i0.ɵɵtemplate(32, AnimalsComponent_div_32_Template, 4, 1, \"div\", 20);\n        i0.ɵɵtemplate(33, AnimalsComponent_app_category_table_33_Template, 1, 2, \"app-category-table\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 22);\n        i0.ɵɵtemplate(35, AnimalsComponent_div_35_Template, 4, 1, \"div\", 20);\n        i0.ɵɵtemplate(36, AnimalsComponent_app_animal_table_36_Template, 1, 2, \"app-animal-table\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"edit-animal-view\", 23);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" Manage \", ctx.content.name, \" \");\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm)(\"ngModelOptions\", i0.ɵɵpureFunction0(11, _c0));\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngClass\", ctx.content.categories.length <= 0 ? \"tooltip tooltip-warning cursor-not-allowed\" : \"\")(\"disabled\", ctx.content.categories.length <= 0);\n        i0.ɵɵattribute(\"data-tip\", ctx.content.categories.length <= 0 ? \"Categories not set, Add Categories first\" : \"Click here to view Animals\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.errorMessage_categories != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.categories.length > 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.errorMessage_animals != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.content.animals.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"content\", ctx.content);\n      }\n    },\n    styles: [\"\"]\n  });\n  return AnimalsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}