{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../_services/api.service\";\nimport * as i2 from \"@ngneat/hot-toast\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@sweetalert2/ngx-sweetalert2\";\nimport * as i5 from \"ng2-search-filter\";\n\nfunction AnimalTableComponent_table_0_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 5);\n    i0.ɵɵelementStart(1, \"td\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 3);\n    i0.ɵɵelementStart(10, \"label\", 6);\n    i0.ɵɵlistener(\"click\", function AnimalTableComponent_table_0_tr_12_Template_label_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.edit(item_r2);\n    });\n    i0.ɵɵelement(11, \"i\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"swal\", 8, 9);\n    i0.ɵɵlistener(\"confirm\", function AnimalTableComponent_table_0_tr_12_Template_swal_confirm_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.delete(item_r2.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"a\", 10);\n    i0.ɵɵelement(15, \"i\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n\n    const _r4 = i0.ɵɵreference(13);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r3 + 1, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.category.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"title\", \"Delete \", item_r2.name, \"?\");\n    i0.ɵɵproperty(\"showCancelButton\", true)(\"focusCancel\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"swal\", _r4);\n  }\n}\n\nfunction AnimalTableComponent_table_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 1);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"td\", 2);\n    i0.ɵɵtext(4, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 3);\n    i0.ɵɵtext(10, \"Options\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tbody\");\n    i0.ɵɵtemplate(12, AnimalTableComponent_table_0_tr_12_Template, 16, 7, \"tr\", 4);\n    i0.ɵɵpipe(13, \"filter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(13, 1, ctx_r0.content.animals, ctx_r0.searchTerm));\n  }\n}\n\nexport let AnimalTableComponent = /*#__PURE__*/(() => {\n  class AnimalTableComponent {\n    constructor(apiService, toast) {\n      this.apiService = apiService;\n      this.toast = toast;\n    }\n\n    ngOnInit() {}\n\n    setData(content) {\n      this.content = content;\n    }\n\n    edit(item) {\n      this.content.title = `Edit ${this.content.name}`;\n      this.content.caller = 'PUT';\n      this.content.Animals = item;\n      this.content.typeOf = 'animals';\n      this.content.apiLink = '/master/animals';\n    }\n\n    delete(id) {\n      this.apiService.deleteData(`/master/animals/${id}`, id).subscribe(res => {\n        if (res) this.toast.success(\"Item Deleted\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      }, error => {\n        this.toast.error(\"Error deleting, try again after sometime.\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      });\n    }\n\n  }\n\n  AnimalTableComponent.ɵfac = function AnimalTableComponent_Factory(t) {\n    return new (t || AnimalTableComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.HotToastService));\n  };\n\n  AnimalTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AnimalTableComponent,\n    selectors: [[\"app-animal-table\"]],\n    inputs: {\n      content: \"content\",\n      searchTerm: \"searchTerm\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"table border w-full\", 4, \"ngIf\"], [1, \"table\", \"border\", \"w-full\"], [1, \"border-r\"], [1, \"text-right\"], [\"class\", \"hover\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover\"], [\"href\", \"javascript:void(0)\", \"for\", \"Animals-modal\", 1, \"mr-3\", \"modal-button\", 3, \"click\"], [1, \"fa\", \"fa-pen-to-square\", \"fa-1x\"], [\"text\", \"This cannot be undone\", \"icon\", \"question\", 3, \"title\", \"showCancelButton\", \"focusCancel\", \"confirm\"], [\"deleteSwal\", \"\"], [1, \"mr-3\", 3, \"swal\"], [1, \"fa\", \"fa-trash-can\", \"fa-1x\", \"text-red-500\"]],\n    template: function AnimalTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AnimalTableComponent_table_0_Template, 14, 4, \"table\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.content.animals.length > 0);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, i4.SwalComponent, i4.SwalDirective],\n    pipes: [i5.Ng2SearchPipe],\n    styles: [\"\"]\n  });\n  return AnimalTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}