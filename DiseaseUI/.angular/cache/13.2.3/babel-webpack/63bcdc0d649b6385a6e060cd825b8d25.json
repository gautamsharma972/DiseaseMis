{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\Projects\\\\DiseaseMIS\\\\Disease_UI\\\\Disease_UI\\\\UI\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../_services/api.service\";\nimport * as i2 from \"@ngneat/hot-toast\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../entry-form/entry-form.component\";\nimport * as i5 from \"../disease-form/disease-form.component\";\n\nfunction InfectiousComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.content.errors[0], \" \");\n  }\n}\n\nfunction InfectiousComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.content.errors[0], \" \");\n  }\n}\n\nexport class InfectiousComponent {\n  constructor(apiService, toast, datePipe) {\n    this.apiService = apiService;\n    this.toast = toast;\n    this.datePipe = datePipe;\n    this.content = {\n      name: \"Animal Disease Incidence Report\",\n      errors: [],\n      animals: [{\n        symptoms: []\n      }],\n      diseases: [],\n      fixedColumnHeader: [],\n      columnHeader: [],\n      forms: {\n        district: {},\n        institute: {},\n        incharge: {},\n        diseases: []\n      },\n      districts: [],\n      institutes: [],\n      incharges: [],\n      apiLink: '/forms',\n      fileLocked: false\n    };\n    this.saveFormTitle = 'Save and Continue';\n    this.loading = false;\n    this.formType = \"Incidence\";\n    this.openTab = \"incidence\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.getAnimals();\n\n      _this.getDiseases();\n    })();\n  }\n\n  getAnimals() {\n    this.apiService.getData(`/master/animals`, null).subscribe(res => {\n      if (!res) {\n        this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      } else {\n        if (res.length <= 0) {\n          this.content.errors.push(\"No animals found.\");\n        }\n\n        this.content.animals = res;\n        console.log(this.content);\n      }\n    }, error => {\n      this.content.errors.push(\"Could not load data at this time. Try again later.\");\n    });\n  }\n\n  getDiseases() {\n    this.apiService.getData(`/diseases/byCategory/2`, null).subscribe(res => {\n      if (!res) {\n        this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      } else {\n        if (res.length <= 0) {\n          this.content.errors.push(\"No Diseases found!!\");\n        }\n\n        this.content.diseases = res;\n        console.log(this.content.diseases);\n        this.getColumnHeaders();\n      }\n    }, error => {\n      this.content.errors.push(\"Could not load data at this time. Try again later.\");\n    });\n  }\n\n  getFixedHeaders() {\n    let flag = 0;\n    this.content.diseases.forEach(disease => {\n      disease.symptoms.forEach(symptom => {\n        symptom.subSymptoms.forEach(subSymptom => {\n          if (subSymptom.name != null && flag == 0) {\n            this.content.fixedColumnHeader.push(\"Sub Symptoms\");\n            flag = 1;\n          }\n        });\n      });\n    });\n  }\n\n  getColumnHeaders() {\n    if (this.content.diseases.length > 0) {\n      this.content.fixedColumnHeader.push(\"Diseases\");\n      this.content.diseases.every(disease => {\n        if (disease.symptoms.length > 0) {\n          this.content.fixedColumnHeader.push(\"Symptoms\");\n          return false;\n        }\n\n        return true;\n      });\n      this.content.diseases.every(disease => {\n        disease.symptoms.every(symptom => {\n          if (symptom.subSymptoms[0].name != null) {\n            this.content.fixedColumnHeader.push(\"Sub Symptoms\");\n            return false;\n          }\n\n          return true;\n        });\n      });\n    }\n\n    this.getFixedHeaders();\n    this.content.animals.forEach(animal => {\n      this.content.columnHeader.push(animal.name);\n    });\n    this.content.columnHeader.push(\"Total\");\n  }\n\n}\n\nInfectiousComponent.ɵfac = function InfectiousComponent_Factory(t) {\n  return new (t || InfectiousComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.HotToastService), i0.ɵɵdirectiveInject(i3.DatePipe));\n};\n\nInfectiousComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InfectiousComponent,\n  selectors: [[\"app-infectious\"]],\n  decls: 31,\n  vars: 8,\n  consts: [[1, \"container\", \"mt-5\", \"grid\", \"grid-cols-2\"], [1, \"card-title\"], [1, \"flex-column\"], [1, \"text-sm\", \"text-gray-500\", \"text-bold-0\"], [1, \"text-red-500\"], [1, \"flex\", \"justify-self-end\"], [1, \"btn\", \"btn-primary\", \"btn-md\"], [3, \"content\"], [\"x-data\", \"{ openTab: 'incidence' }\", 1, \"grid\", \"mt-5\", \"w-full\", \"h-5/6\"], [1, \"tabs\", \"z-10\", \"-mb-px\"], [\"x-on:click\", \"openTab = 'incidence'\", \"x-bind:class\", \"openTab === 'incidence'? 'bg-base-200 tab-active' : ''\", 1, \"tab\", \"tab-bordered\", \"btn-md\", \"font-semibold\"], [\"data-tip\", \"Incidence Form Not Filled\", \"x-on:click\", \"openTab = 'mortality'\", \"x-bind:class\", \"openTab === 'mortality'? 'bg-base-200 tab-active' : ''\", 1, \"tab\", \"btn-md\", \"font-semibold\", \"tab-bordered\", \"tooltip\", \"tooltip-warning\", \"cursor-not-allowed\"], [1, \"tab\", \"tab-bordered\", \"flex-1\", \"cursor-default\"], [\"x-show\", \"openTab == 'incidence'\", 1, \"w-full\", \"mt-5\", \"overflow-hidden\"], [\"class\", \"mt-5 alert shadow alert-error\", 4, \"ngIf\"], [3, \"content\", \"formType\"], [\"x-show\", \"openTab == 'mortality'\", 1, \"mt-5\", \"w-full\", \"overflow-hidden\"], [1, \"flex\", \"flex-row\", \"justify-end\"], [1, \"mt-5\", \"alert\", \"shadow\", \"alert-error\"], [1, \"fa\", \"fa-exclamation-triangle\", \"text-yellow\"]],\n  template: function InfectiousComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h1\", 1);\n      i0.ɵɵelementStart(2, \"span\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵelementStart(5, \"span\", 3);\n      i0.ɵɵtext(6, \"'\");\n      i0.ɵɵelementStart(7, \"i\", 4);\n      i0.ɵɵtext(8, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(9, \"' marked fields are mandatory.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 5);\n      i0.ɵɵelementStart(11, \"button\", 6);\n      i0.ɵɵtext(12, \" Save Form \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\");\n      i0.ɵɵelement(14, \"app-entry-form\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 8);\n      i0.ɵɵelementStart(16, \"div\", 9);\n      i0.ɵɵelementStart(17, \"button\", 10);\n      i0.ɵɵtext(18, \" Incidence \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 11);\n      i0.ɵɵtext(20, \" Mortality \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 13);\n      i0.ɵɵtemplate(23, InfectiousComponent_div_23_Template, 4, 1, \"div\", 14);\n      i0.ɵɵelement(24, \"app-disease-form\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 16);\n      i0.ɵɵtemplate(26, InfectiousComponent_div_26_Template, 4, 1, \"div\", 14);\n      i0.ɵɵelement(27, \"app-disease-form\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 17);\n      i0.ɵɵelementStart(29, \"button\", 6);\n      i0.ɵɵtext(30, \" Save Form \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.content.name, \" \");\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"content\", ctx.content);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.content.errors.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"content\", ctx.content)(\"formType\", ctx.formType);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.content.errors.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"content\", ctx.content)(\"formType\", ctx.formType);\n    }\n  },\n  directives: [i4.EntryFormComponent, i3.NgIf, i5.DiseaseFormComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbmZlY3Rpb3VzLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["D:/Projects/DiseaseMIS/Disease_UI/Disease_UI/UI/src/app/views/forms/infectious/infectious.component.ts"],"names":["i0","i1","i2","i3","i4","i5","InfectiousComponent_div_23_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate1","content","errors","InfectiousComponent_div_26_Template","ctx_r1","InfectiousComponent","constructor","apiService","toast","datePipe","name","animals","symptoms","diseases","fixedColumnHeader","columnHeader","forms","district","institute","incharge","districts","institutes","incharges","apiLink","fileLocked","saveFormTitle","loading","formType","openTab","ngOnInit","getAnimals","getDiseases","getData","subscribe","res","error","position","autoClose","length","push","console","log","getColumnHeaders","getFixedHeaders","flag","forEach","disease","symptom","subSymptoms","subSymptom","every","animal","ɵfac","InfectiousComponent_Factory","t","ɵɵdirectiveInject","ApiService","HotToastService","DatePipe","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","InfectiousComponent_Template","ɵɵtemplate","ɵɵproperty","directives","EntryFormComponent","NgIf","DiseaseFormComponent","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../../_services/api.service\";\r\nimport * as i2 from \"@ngneat/hot-toast\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"../entry-form/entry-form.component\";\r\nimport * as i5 from \"../disease-form/disease-form.component\";\r\nfunction InfectiousComponent_div_23_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 18);\r\n    i0.ɵɵelementStart(1, \"div\");\r\n    i0.ɵɵelement(2, \"i\", 19);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.content.errors[0], \" \");\r\n} }\r\nfunction InfectiousComponent_div_26_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 18);\r\n    i0.ɵɵelementStart(1, \"div\");\r\n    i0.ɵɵelement(2, \"i\", 19);\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.content.errors[0], \" \");\r\n} }\r\nexport class InfectiousComponent {\r\n    constructor(apiService, toast, datePipe) {\r\n        this.apiService = apiService;\r\n        this.toast = toast;\r\n        this.datePipe = datePipe;\r\n        this.content = {\r\n            name: \"Animal Disease Incidence Report\",\r\n            errors: [],\r\n            animals: [{\r\n                    symptoms: []\r\n                }],\r\n            diseases: [],\r\n            fixedColumnHeader: [],\r\n            columnHeader: [],\r\n            forms: {\r\n                district: {},\r\n                institute: {},\r\n                incharge: {},\r\n                diseases: []\r\n            },\r\n            districts: [],\r\n            institutes: [],\r\n            incharges: [],\r\n            apiLink: '/forms',\r\n            fileLocked: false\r\n        };\r\n        this.saveFormTitle = 'Save and Continue';\r\n        this.loading = false;\r\n        this.formType = \"Incidence\";\r\n        this.openTab = \"incidence\";\r\n    }\r\n    async ngOnInit() {\r\n        this.getAnimals();\r\n        this.getDiseases();\r\n    }\r\n    getAnimals() {\r\n        this.apiService.getData(`/master/animals`, null)\r\n            .subscribe((res) => {\r\n            if (!res) {\r\n                this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\r\n                    position: 'top-right',\r\n                    autoClose: true\r\n                });\r\n            }\r\n            else {\r\n                if (res.length <= 0) {\r\n                    this.content.errors.push(\"No animals found.\");\r\n                }\r\n                this.content.animals = res;\r\n                console.log(this.content);\r\n            }\r\n        }, error => {\r\n            this.content.errors.push(\"Could not load data at this time. Try again later.\");\r\n        });\r\n    }\r\n    getDiseases() {\r\n        this.apiService.getData(`/diseases/byCategory/2`, null)\r\n            .subscribe((res) => {\r\n            if (!res) {\r\n                this.toast.error(\"Could not connect to Server. Try again after sometime.\", {\r\n                    position: 'top-right',\r\n                    autoClose: true\r\n                });\r\n            }\r\n            else {\r\n                if (res.length <= 0) {\r\n                    this.content.errors.push(\"No Diseases found!!\");\r\n                }\r\n                this.content.diseases = res;\r\n                console.log(this.content.diseases);\r\n                this.getColumnHeaders();\r\n            }\r\n        }, error => {\r\n            this.content.errors.push(\"Could not load data at this time. Try again later.\");\r\n        });\r\n    }\r\n    getFixedHeaders() {\r\n        let flag = 0;\r\n        this.content.diseases.forEach((disease) => {\r\n            disease.symptoms.forEach((symptom) => {\r\n                symptom.subSymptoms.forEach((subSymptom) => {\r\n                    if (subSymptom.name != null && flag == 0) {\r\n                        this.content.fixedColumnHeader.push(\"Sub Symptoms\");\r\n                        flag = 1;\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    getColumnHeaders() {\r\n        if (this.content.diseases.length > 0) {\r\n            this.content.fixedColumnHeader.push(\"Diseases\");\r\n            this.content.diseases.every((disease) => {\r\n                if (disease.symptoms.length > 0) {\r\n                    this.content.fixedColumnHeader.push(\"Symptoms\");\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            this.content.diseases.every((disease) => {\r\n                disease.symptoms.every((symptom) => {\r\n                    if (symptom.subSymptoms[0].name != null) {\r\n                        this.content.fixedColumnHeader.push(\"Sub Symptoms\");\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n            });\r\n        }\r\n        this.getFixedHeaders();\r\n        this.content.animals.forEach((animal) => {\r\n            this.content.columnHeader.push(animal.name);\r\n        });\r\n        this.content.columnHeader.push(\"Total\");\r\n    }\r\n}\r\nInfectiousComponent.ɵfac = function InfectiousComponent_Factory(t) { return new (t || InfectiousComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.HotToastService), i0.ɵɵdirectiveInject(i3.DatePipe)); };\r\nInfectiousComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: InfectiousComponent, selectors: [[\"app-infectious\"]], decls: 31, vars: 8, consts: [[1, \"container\", \"mt-5\", \"grid\", \"grid-cols-2\"], [1, \"card-title\"], [1, \"flex-column\"], [1, \"text-sm\", \"text-gray-500\", \"text-bold-0\"], [1, \"text-red-500\"], [1, \"flex\", \"justify-self-end\"], [1, \"btn\", \"btn-primary\", \"btn-md\"], [3, \"content\"], [\"x-data\", \"{ openTab: 'incidence' }\", 1, \"grid\", \"mt-5\", \"w-full\", \"h-5/6\"], [1, \"tabs\", \"z-10\", \"-mb-px\"], [\"x-on:click\", \"openTab = 'incidence'\", \"x-bind:class\", \"openTab === 'incidence'? 'bg-base-200 tab-active' : ''\", 1, \"tab\", \"tab-bordered\", \"btn-md\", \"font-semibold\"], [\"data-tip\", \"Incidence Form Not Filled\", \"x-on:click\", \"openTab = 'mortality'\", \"x-bind:class\", \"openTab === 'mortality'? 'bg-base-200 tab-active' : ''\", 1, \"tab\", \"btn-md\", \"font-semibold\", \"tab-bordered\", \"tooltip\", \"tooltip-warning\", \"cursor-not-allowed\"], [1, \"tab\", \"tab-bordered\", \"flex-1\", \"cursor-default\"], [\"x-show\", \"openTab == 'incidence'\", 1, \"w-full\", \"mt-5\", \"overflow-hidden\"], [\"class\", \"mt-5 alert shadow alert-error\", 4, \"ngIf\"], [3, \"content\", \"formType\"], [\"x-show\", \"openTab == 'mortality'\", 1, \"mt-5\", \"w-full\", \"overflow-hidden\"], [1, \"flex\", \"flex-row\", \"justify-end\"], [1, \"mt-5\", \"alert\", \"shadow\", \"alert-error\"], [1, \"fa\", \"fa-exclamation-triangle\", \"text-yellow\"]], template: function InfectiousComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"h1\", 1);\r\n        i0.ɵɵelementStart(2, \"span\", 2);\r\n        i0.ɵɵtext(3);\r\n        i0.ɵɵelement(4, \"br\");\r\n        i0.ɵɵelementStart(5, \"span\", 3);\r\n        i0.ɵɵtext(6, \"'\");\r\n        i0.ɵɵelementStart(7, \"i\", 4);\r\n        i0.ɵɵtext(8, \"*\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(9, \"' marked fields are mandatory.\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"div\", 5);\r\n        i0.ɵɵelementStart(11, \"button\", 6);\r\n        i0.ɵɵtext(12, \" Save Form \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"div\");\r\n        i0.ɵɵelement(14, \"app-entry-form\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"div\", 8);\r\n        i0.ɵɵelementStart(16, \"div\", 9);\r\n        i0.ɵɵelementStart(17, \"button\", 10);\r\n        i0.ɵɵtext(18, \" Incidence \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"button\", 11);\r\n        i0.ɵɵtext(20, \" Mortality \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(21, \"div\", 12);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 13);\r\n        i0.ɵɵtemplate(23, InfectiousComponent_div_23_Template, 4, 1, \"div\", 14);\r\n        i0.ɵɵelement(24, \"app-disease-form\", 15);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(25, \"div\", 16);\r\n        i0.ɵɵtemplate(26, InfectiousComponent_div_26_Template, 4, 1, \"div\", 14);\r\n        i0.ɵɵelement(27, \"app-disease-form\", 15);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(28, \"div\", 17);\r\n        i0.ɵɵelementStart(29, \"button\", 6);\r\n        i0.ɵɵtext(30, \" Save Form \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵtextInterpolate1(\" \", ctx.content.name, \" \");\r\n        i0.ɵɵadvance(11);\r\n        i0.ɵɵproperty(\"content\", ctx.content);\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.content.errors.length > 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"content\", ctx.content)(\"formType\", ctx.formType);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.content.errors.length > 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"content\", ctx.content)(\"formType\", ctx.formType);\r\n    } }, directives: [i4.EntryFormComponent, i3.NgIf, i5.DiseaseFormComponent], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbmZlY3Rpb3VzLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}