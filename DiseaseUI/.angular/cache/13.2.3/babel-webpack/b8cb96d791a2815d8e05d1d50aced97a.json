{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../_services/api.service\";\nimport * as i2 from \"@ngneat/hot-toast\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@sweetalert2/ngx-sweetalert2\";\nimport * as i5 from \"ng2-search-filter\";\n\nfunction CategoryTableComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 4);\n    i0.ɵɵelementStart(1, \"td\", 1);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 2);\n    i0.ɵɵelementStart(9, \"label\", 5);\n    i0.ɵɵlistener(\"click\", function CategoryTableComponent_tr_12_Template_label_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.edit(item_r1);\n    });\n    i0.ɵɵelement(10, \"i\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"swal\", 7, 8);\n    i0.ɵɵlistener(\"confirm\", function CategoryTableComponent_tr_12_Template_swal_confirm_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.delete(item_r1.id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 9);\n    i0.ɵɵelement(14, \"i\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n\n    const _r3 = i0.ɵɵreference(12);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i_r2 + 1, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.animals.length, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"title\", \"Delete \", item_r1.name, \"?\");\n    i0.ɵɵproperty(\"showCancelButton\", true)(\"focusCancel\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"swal\", _r3);\n  }\n}\n\nexport let CategoryTableComponent = /*#__PURE__*/(() => {\n  class CategoryTableComponent {\n    constructor(apiService, toast) {\n      this.apiService = apiService;\n      this.toast = toast;\n      this.content = {};\n    }\n\n    ngOnInit() {}\n\n    setData(content) {\n      this.content = content;\n    }\n\n    edit(item) {\n      this.content.title = `Edit ${this.content.name}`;\n      this.content.caller = 'PUT';\n      this.content.Animals = item;\n      this.content.typeOf = 'animals';\n      this.content.apiLink = '/master/animals/category';\n    }\n\n    delete(id) {\n      this.apiService.deleteData(`/master/animals/category/${id}`, id).subscribe(res => {\n        if (res) this.toast.success(\"Item Deleted\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      }, error => {\n        this.toast.error(\"Error deleting, try again after sometime.\", {\n          position: 'top-right',\n          autoClose: true\n        });\n      });\n    }\n\n  }\n\n  CategoryTableComponent.ɵfac = function CategoryTableComponent_Factory(t) {\n    return new (t || CategoryTableComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.HotToastService));\n  };\n\n  CategoryTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CategoryTableComponent,\n    selectors: [[\"app-category-table\"]],\n    inputs: {\n      content: \"content\",\n      searchTerm: \"searchTerm\"\n    },\n    decls: 14,\n    vars: 4,\n    consts: [[1, \"table\", \"border\", \"w-full\"], [1, \"border-r\"], [1, \"text-right\"], [\"class\", \"hover\", 4, \"ngFor\", \"ngForOf\"], [1, \"hover\"], [\"href\", \"javascript:void(0)\", \"for\", \"Animals-modal\", 1, \"mr-3\", \"modal-button\", 3, \"click\"], [1, \"fa\", \"fa-pen-to-square\", \"fa-1x\"], [\"text\", \"This will delete all the related animals too.\", \"icon\", \"question\", 3, \"title\", \"showCancelButton\", \"focusCancel\", \"confirm\"], [\"deleteSwal\", \"\"], [1, \"mr-3\", 3, \"swal\"], [1, \"fa\", \"fa-trash-can\", \"fa-1x\", \"text-red-500\"]],\n    template: function CategoryTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"table\", 0);\n        i0.ɵɵelementStart(1, \"thead\");\n        i0.ɵɵelementStart(2, \"tr\");\n        i0.ɵɵelementStart(3, \"td\", 1);\n        i0.ɵɵtext(4, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"th\");\n        i0.ɵɵtext(6, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"th\");\n        i0.ɵɵtext(8, \"Total Animals\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"th\", 2);\n        i0.ɵɵtext(10, \"Options\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"tbody\");\n        i0.ɵɵtemplate(12, CategoryTableComponent_tr_12_Template, 15, 7, \"tr\", 3);\n        i0.ɵɵpipe(13, \"filter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(13, 1, ctx.content.categories, ctx.searchTerm));\n      }\n    },\n    directives: [i3.NgForOf, i4.SwalComponent, i4.SwalDirective],\n    pipes: [i5.Ng2SearchPipe],\n    styles: [\"\"]\n  });\n  return CategoryTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}